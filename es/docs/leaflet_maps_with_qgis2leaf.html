<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mapas Web Leaflet con qgis2leaf &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importando Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con datos de terreno</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajando con datos WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajando con proyecciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenciar Hojas Topografícas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Análisis del vecino más cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Usando QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Abrir archivos BIL, BIP o BSQ en QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Realización de uniones de tabla (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo web con QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Uso de complementos</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Recursos de aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos de los Conjuntos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I have several full-length QGIS courses that are now completely free for self-study. 
Check out the <a href="https://courses.spatialthoughts.com/" target="_blank">Course Materials</a>.</p>

<hr>
<!-- EmailOctopus Form -->

<link rel="stylesheet"
      href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css"
>
<div class="emailoctopus-form-wrapper emailoctopus-form-default null"
     style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(26, 26, 26);"
>
  <h2 class="emailoctopus-heading">
    Subscribe to my list
  </h2>
  <p class="emailoctopus-success-message">
  </p>
  <p class="emailoctopus-error-message">
  </p>
  <form action="https://emailoctopus.com/lists/7325d131-1dbb-11eb-a3d0-06b4694bee2a/members/embedded/1.3s/add"
        method="post"
        data-message-success="Thanks for subscribing!"
        data-message-missing-email-address="Your email address is required."
        data-message-invalid-email-address="Your email address looks incorrect, please try again."
        data-message-bot-submission-error="This doesn't look like a human submission."
        data-message-consent-required="Please check the checkbox to indicate your consent."
        data-message-invalid-parameters-error="This form has missing or invalid fields."
        data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
        class="emailoctopus-form"
        data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
  >
    <div class="emailoctopus-form-row">
      <label for="field_0">
        Email address
      </label>
      <input id="field_0"
             name="field_0"
             type="email"
             placeholder
             required="required"
      >
    </div>
    <div aria-hidden="true"
         class="emailoctopus-form-row-hp"
    >
      <input type="text"
             name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
             tabindex="-1"
             autocomplete="nope"
      >
    </div>
    <div class="emailoctopus-form-row-subscribe">
      <input type="hidden"
             name="successRedirectUrl"
      >
      <button type="submit"
              style="background-color: rgb(224, 224, 224); color: rgb(0, 0, 0); font-family: inherit;"
      >
        Subscribe
      </button>
    </div>
  </form>
</div>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js">
</script>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js">
</script>

<hr>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="leaflet-web-maps-with-qgis2leaf">
<h1>Mapas Web Leaflet con qgis2leaf<a class="headerlink" href="#leaflet-web-maps-with-qgis2leaf" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p>El complemento qgis2leaf ya no está en desarrollo activo. La funcionalidad de este complemento está incorporada en un nuevo complemento llamado <strong>qgis2web</strong>.</p>
<p class="last">Vea el tutorial <a class="reference internal" href="web_mapping_with_qgis2web.html"><em>Mapeo web con QGIS2Web</em></a> para una versión actualizada de este tutorial.</p>
</div>
<p>Leaflet es una popular librería Javascript de código abierto para construir aplicaciones de mapeo web. El complemento <strong>qgis2leaf</strong> provee una forma simple de exportar su mapa QGIS a un mapa web funcional basado en leaflet. Este complemento es una manera útil de iniciarse en el mapeo web y crear un mapa web interactivo a partir de sus capas estáticas de datos SIG.</p>
<div class="section" id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Crearemos un mapa web leaflet de los aeropuertos del mundo.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderás<a class="headerlink" href="#other-skills-you-will-learn" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p class="first">Usar la sentencia SQL <code class="docutils literal"><span class="pre">CASE</span></code> en la Calculadora de Campo para crear nuevos valores de campo basados en diferentes condiciones.</p>
</li>
<li><p class="first">Localizar y usar íconos SVG personalizados en QGIS.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Usaremos el conjunto de datos <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/airports/">Aeropuertos</a> de Natural Earth.</p>
<p>Descarga el  <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_airports.zip">archivo shape Aeropuertos</a>.</p>
<p>Fuente de Datos <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedmiento<a class="headerlink" href="#procedure" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Instale el complemento <code class="docutils literal"><span class="pre">qgis2leaf</span></code> yendo a <span class="menuselection">Complementos ‣ Administrar e Instalar Complemento</span>. Note que este complemento está actualmente marcado como <strong>experimental</strong>, por lo que necesitará marcar  <span class="guilabel">Mostrar también complementos experimentales</span> en la Configuración de Complemento. (Vea <a class="reference internal" href="using_plugins.html"><em>Uso de complementos</em></a> para más detalles sobre la instalación de complementos en QGIS)</p>
</li>
</ol>
<img alt="../_images/1165.png" class="align-center" src="../_images/1165.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Descomprima el archivo <code class="docutils literal"><span class="pre">ne_10m_airports.zip</span></code> descargado. Abra QGIS y vaya a <span class="menuselection">Capa ‣ Agregar Capa Vectorial</span>. Explore a la ubicación donde los archivos fueron extraídos y seleccione <code class="docutils literal"><span class="pre">ne_10m_airports.shp</span></code>. Clic en <span class="guilabel">Aceptar</span>.</p>
</li>
</ol>
<img alt="../_images/2125.png" class="align-center" src="../_images/2125.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Una vez que la capa <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> esté cargada, use la herramienta <span class="guilabel">Identificar</span> para hacer clic en cualquier entidad y mirar los atributos. Creará un mapa de aeropuerto donde clasificamos los aeropuertos en 3 categorías. El atributo <code class="docutils literal"><span class="pre">type</span></code> será útil cuando se clasifiquen las entidades.</p>
</li>
</ol>
<img alt="../_images/367.png" class="align-center" src="../_images/367.png" />
<ol class="arabic simple" start="4">
<li><p class="first">Clic-derecho a la capa <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributo</span>.</p>
</li>
</ol>
<img alt="../_images/447.png" class="align-center" src="../_images/447.png" />
<ol class="arabic simple" start="5">
<li><p class="first">En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p>
</li>
</ol>
<img alt="../_images/547.png" class="align-center" src="../_images/547.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Queremos crear un nuevo atributo llamado <code class="docutils literal"><span class="pre">type_code</span></code> donde le damos un valor de 3 a los principales aeropuertos, un valor de 2 a los aeropuertos de tamaño medio y un valor de 1 a todos los otros. Podemos usar la sentencia <em>CASE</em> y escribir una expresión que revisará el valor del atributo <code class="docutils literal"><span class="pre">type</span></code> y creará una atributo <code class="docutils literal"><span class="pre">type_code</span></code> basado en la condición. Marque la caja <span class="guilabel">Crear un nuevo campo</span> e ingrese <code class="docutils literal"><span class="pre">type_code</span></code> como el <span class="guilabel">Nombre del campo de salida</span>. Seleccione <span class="guilabel">Número completo (entero)</span> como el <span class="guilabel">Tipo de campo de salida</span>. En la ventana <span class="guilabel">Expresión</span>, ingrese el siguiente texto.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>CASE  WHEN &quot;type&quot; LIKE &#39;%major%&#39;  THEN 3
 WHEN &quot;type&quot; LIKE &#39;%mid%&#39; THEN 2
 ELSE 1
END
</pre></div>
</div>
<img alt="../_images/645.png" class="align-center" src="../_images/645.png" />
<ol class="arabic simple" start="7">
<li><p class="first">De vuelta en la ventana <span class="guilabel">Tabla de Atributo</span>, verá una nueva columna al final. Verifique que su expresión funcionó correctamente y clic el botón <span class="guilabel">Cambiar Edición</span> para guardar los cambios.</p>
</li>
</ol>
<img alt="../_images/744.png" class="align-center" src="../_images/744.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Ahora le daremos estilo a la capa aeropuertos usando el atributo <code class="docutils literal"><span class="pre">type_code</span></code> recientemente creado. Clic-derecho la capa <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Propiedades</span>.</p>
</li>
</ol>
<img alt="../_images/843.png" class="align-center" src="../_images/843.png" />
<ol class="arabic simple" start="9">
<li><p class="first">Seleccione la tabulación <span class="guilabel">Estilo</span> en el diálogo <span class="guilabel">Propiedades de la Capa</span>. Seleccione el estilo <span class="guilabel">Categorizado</span> de el menú desplegable y elija <code class="docutils literal"><span class="pre">type_code</span></code> como la <span class="guilabel">Columna</span>. Escoja una rampa de color de su elección y clic en <span class="guilabel">Classificar</span>. Clic en <span class="guilabel">Aceptar</span> para volver a la ventana principal QGIS.</p>
</li>
</ol>
<img alt="../_images/943.png" class="align-center" src="../_images/943.png" />
<ol class="arabic simple" start="10">
<li><p class="first">Aquí verá un mapa de aeropuerto con estilo agradable. Exportemos esto para crear un mapa web interactivo. Vaya a <span class="menuselection">Web ‣ qgis2leaf ‣ Exporta un Proyecto QGIS a un mapa web leaflet funcionando</span>.</p>
</li>
</ol>
<img alt="../_images/1041.png" class="align-center" src="../_images/1041.png" />
<ol class="arabic simple" start="11">
<li><p class="first">En el diálogo <span class="guilabel">QGIS 2 Leaflet</span>, clic en <span class="guilabel">Obtener Capas</span> para obtener la lista refrescada de capas. Seleccione la opción  <span class="guilabel">Pantalla completa</span> para tener un mapa web de pantalla completa. Elija <span class="guilabel">extensión de la capa</span> como la <span class="guilabel">Extensión</span> del mapa exportado. Elija una <span class="guilabel">Carpeta de salida del proyecto</span> en su sistema donde el complemento escribirá  los archivos de salida. Clic en <span class="guilabel">Aceptar</span>.</p>
</li>
</ol>
<img alt="../_images/1166.png" class="align-center" src="../_images/1166.png" />
<ol class="arabic simple" start="12">
<li><p class="first">Una vez finalice el proceso de exportación, ubique la carpeta de salida en su disco. Abra el archivo <code class="docutils literal"><span class="pre">index.html</span></code> en un navegador. Verá un mapa web interactivo que es una réplica del mapa QGIS. Puede acercarse y desplazar el mapa y también hacer clic en cualquier entidad para obtener una ventana emergente con información de atributo. Puede copiar los contenidos de esta carpeta a un servidor web para tener un mapa web con todas las funciones.</p>
</li>
</ol>
<img alt="../_images/1242.png" class="align-center" src="../_images/1242.png" />
<ol class="arabic simple" start="13">
<li><p class="first">Ahora exploraremos algunas características avanzadas de este complemento que nos permitirá personalizar más el mapa. Si lo notó, la ventana emergente contenía todos los atributos de la entidad. Algunos de los atributos no son muy útiles y la ventana emergente en general se ve fea. Podemos reemplazar la venta emergente predeterminada con nuestro HTML personalizado para hacerlo mucho mejor. Esto se logra agregando el HTML personalizado en una columna llamada <code class="docutils literal"><span class="pre">html_exp</span></code>. Clic-derecho la capa <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p>
</li>
</ol>
<img alt="../_images/1341.png" class="align-center" src="../_images/1341.png" />
<ol class="arabic simple" start="14">
<li><p class="first">En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p>
</li>
</ol>
<img alt="../_images/1439.png" class="align-center" src="../_images/1439.png" />
<ol class="arabic simple" start="15">
<li><p class="first">Marque la casilla <span class="guilabel">Crear un nuevo campo</span> e ingrese <code class="docutils literal"><span class="pre">html_exp</span></code> como el <span class="guilabel">Nombre de campo salida</span>. Elija <span class="guilabel">Texto (cadena)</span> como el <span class="guilabel">Tipo de campo salida</span>. Como estaremos creando una larga cadena HTML, elija <code class="docutils literal"><span class="pre">200</span></code> como el <span class="guilabel">Ancho de campo salida</span>. Ingrese la siguiente expresión en el área <span class="guilabel">Expresión</span>. La expresión de apariencia compleja simplemente define una tabla HTML y substituye valores de celda desde atributos <code class="docutils literal"><span class="pre">iata_code</span></code>, <code class="docutils literal"><span class="pre">name</span></code> y <code class="docutils literal"><span class="pre">type</span></code>. Marque <span class="guilabel">Previsualizar salida</span> para asegurar que la expresión está correcta.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;&lt;h3&gt;&#39;, &quot;iata_code&quot;, &#39;&lt;/h3&gt;&lt;table&gt;&#39;, &#39;&lt;tr&gt;&lt;td&gt;Airport Name: &lt;b&gt; &#39;,
&quot;name&quot;, &#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Category: &lt;b&gt; &#39;, &quot;type&quot;,
&#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El formato de archivo shape puede contener un máximo de 254 caracteres en un campo. Si quiere almacenar texto más largo en el campo, elija otro formato.</p>
</div>
<img alt="../_images/1538.png" class="align-center" src="../_images/1538.png" />
<ol class="arabic simple" start="16">
<li><p class="first">De vuelta en la ventana <span class="guilabel">Tabla de Atributo</span>, verá una nueva columna al final. Verifique que su expresión funcionó correctamente y clic el botón <span class="guilabel">Cambiar Edición</span> para guardar los cambios.</p>
</li>
</ol>
<img alt="../_images/1634.png" class="align-center" src="../_images/1634.png" />
<ol class="arabic simple" start="17">
<li><p class="first">Ahora exportemos de nuevo el mapa usando <span class="menuselection">Web ‣ qgis2leaf ‣ Exporta un Proyecto QGIS a un mapa web leaflet funcional</span>.</p>
</li>
</ol>
<img alt="../_images/1731.png" class="align-center" src="../_images/1731.png" />
<ol class="arabic simple" start="18">
<li><p class="first">Elija las opciones como está abajo.</p>
</li>
</ol>
<img alt="../_images/1831.png" class="align-center" src="../_images/1831.png" />
<ol class="arabic simple" start="19">
<li><p class="first">Vaya a la carpeta de salida una vez que el proceso de exportación finalice. Tendrá una subcarpeta con la marque de tiempo presente. Localice el archivo <code class="docutils literal"><span class="pre">index.html</span></code> dentro y ábralo en un navegador. Clic en cualquier objeto y mire en la ventana emergente. Notará que se más bastante más limpio e informativo.</p>
</li>
</ol>
<img alt="../_images/1925.png" class="align-center" src="../_images/1925.png" />
<ol class="arabic simple" start="20">
<li><p class="first">Otra funcionalidad útil del complemento <code class="docutils literal"><span class="pre">qgis2leaf</span></code> es la habilidad para especificar un icono personalizado para usar con el mapa web. Esto se logra especificando la ruta del icono personalizado en un campo llamado <code class="docutils literal"><span class="pre">icon_exp</span></code>. Crearemos una nueva capa que contiene sólo los aeropuertos principales y daremos estilo usando un icono SVG personalizado. Localice la herramienta <span class="guilabel">Seleccionar objetos usando una expresión</span> de la barra de herramientas.</p>
</li>
</ol>
<img alt="../_images/2018.png" class="align-center" src="../_images/2018.png" />
<ol class="arabic simple" start="21">
<li><p class="first">Ingrese la expresión de abajo y presione <span class="guilabel">Seleccionar</span> para seleccionar todos los aeropuertos principales.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;type_code&quot; = 3
</pre></div>
</div>
<img alt="../_images/2126.png" class="align-center" src="../_images/2126.png" />
<ol class="arabic simple" start="22">
<li><p class="first">Clic-derecho los aeropuertos <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Guardar Selección Como...</span>.</p>
</li>
</ol>
<img alt="../_images/2220.png" class="align-center" src="../_images/2220.png" />
<ol class="arabic simple" start="23">
<li><p class="first">En el diálogo <span class="guilabel">Guardar capa vectorial como...</span>, nombre el archivo de salida como <code class="docutils literal"><span class="pre">major_airports.shp</span></code>. Marque <span class="guilabel">Añadir archivo guardado al mapa</span> y clic en <span class="guilabel">Aceptar</span>.</p>
</li>
</ol>
<img alt="../_images/2317.png" class="align-center" src="../_images/2317.png" />
<ol class="arabic simple" start="24">
<li><p class="first">Una vez que esté cargada la capa <code class="docutils literal"><span class="pre">major_airports</span></code> en QGIS, haga clic-derecho en ella y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p>
</li>
</ol>
<img alt="../_images/2416.png" class="align-center" src="../_images/2416.png" />
<ol class="arabic simple" start="25">
<li><p class="first">En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p>
</li>
</ol>
<img alt="../_images/2515.png" class="align-center" src="../_images/2515.png" />
<ol class="arabic simple" start="26">
<li><p class="first">En el diálogo <span class="guilabel">Calculadora de Campo</span>, ingrese <code class="docutils literal"><span class="pre">icon_exp</span></code> como el <span class="guilabel">Nombre de campo salida</span>. Hágalo de tipo <span class="guilabel">Texto (cadena)</span>. En el área <span class="guilabel">Expresión</span>, ingrese la siguiente expresión.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&#39;airport.svg&#39;
</pre></div>
</div>
<img alt="../_images/2613.png" class="align-center" src="../_images/2613.png" />
<ol class="arabic simple" start="27">
<li><p class="first">Guarde sus ediciones haciendo clic en el botón <span class="guilabel">Conmutar Edición</span> en la <span class="guilabel">Tabla de Atributos</span>.</p>
</li>
</ol>
<img alt="../_images/2713.png" class="align-center" src="../_images/2713.png" />
<ol class="arabic simple" start="28">
<li><p class="first">Abra el complemento <code class="docutils literal"><span class="pre">qgis2leaf</span></code> desde <span class="menuselection">Web ‣ qgis2leaf ‣ Exporta un Proyecto QGIS a un mapa web funcional leaflet</span>. Clic en el botón <span class="guilabel">Obtener Capas</span> para buscar ambas capas  desde QGIS. Hay varias capas teselas prefabricadas disponibles como mapas base. En este mapa, podemos intentar algo diferente y cargar <span class="guilabel">Stamen Watercolor</span> como el <span class="guilabel">Mapa base</span>. Clic en <span class="guilabel">Aceptar</span>.</p>
</li>
</ol>
<img alt="../_images/2811.png" class="align-center" src="../_images/2811.png" />
<ol class="arabic simple" start="29">
<li><p class="first">Si recuerda, especificamos <code class="docutils literal"><span class="pre">airport.svg</span></code> como el icono para los aeropuertos. Necesitamos agregar el icono manualmente al directorio salida. QGIS viene con una gran colección de iconos. En Windows, estos iconos están ubicados en <span class="menuselection">C: ‣ OSGEO4W64 ‣ apps ‣ qgis ‣ svg</span>. La ruta puede diferir dependiendo de su plataforma y tipo de instalación. Localice ese directorio y elija un icono de su gusto. Para nuestro mapa, podemos intentar el icono <code class="docutils literal"><span class="pre">amenity=airport.svg</span></code> localizado bajo la categoría <code class="docutils literal"><span class="pre">transport</span></code>.</p>
</li>
</ol>
<img alt="../_images/2911.png" class="align-center" src="../_images/2911.png" />
<ol class="arabic simple" start="30">
<li><p class="first">Copie y pegue este icono en el directorio salida que había especificado cuando exportó el mapa. Renómbrelo como <code class="docutils literal"><span class="pre">airport.svg</span></code>.</p>
</li>
</ol>
<img alt="../_images/306.png" class="align-center" src="../_images/306.png" />
<ol class="arabic simple" start="31">
<li><p class="first">Ahora abra el archivo <code class="docutils literal"><span class="pre">index.html</span></code> localizado en la carpeta. Verá un hermoso mapa base con nuestro iconos personalizados para los aeropuertos principales. También notará el panel de capa en la esquina superior derecha que tien un contro de visualización de capa para ambas capas.</p>
</li>
</ol>
<img alt="../_images/3113.png" class="align-center" src="../_images/3113.png" />
<p>Hope this tutorial gives you a head start in creating web maps. Below is the
live interactive map created for this tutorial.</p>
<div>
<iframe
src="http://spatialthoughts.github.io/qgis2leaf-maps/airports_with_custom_popup/"
width="100%" height="600px"></iframe>
</div></div>
</div>





  <div>If you liked tutorials on this site and do check out 
  <a href="http://spatialthoughts.com" target="_blank">spatialthoughts.com</a> for more free resources.
  </div>
  
  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Actualizado por última vez en Nov 03, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/leaflet_maps_with_qgis2leaf.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>