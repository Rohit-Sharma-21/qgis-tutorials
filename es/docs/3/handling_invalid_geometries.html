<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Manejar Geometrías No Válidas (QGIS3) &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../../index.html" />
    <link rel="next" title="Realizar Consultas Espaciales (QGIS3)" href="performing_spatial_queries.html" />
    <link rel="prev" title="Animar Datos de Series de Tiempo (QGIS3)" href="animating_time_series.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importando Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_terrain.html">Trabajar con datos de terreno</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_wms.html">Trabajando con datos WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_projections.html">Trabajando con proyecciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topografícas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digitizing_basics.html">Digitalizar Datos del Mapa</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del vecino más cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpolating_point_data.html">Interpolar Datos Punto</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_qgis_browser.html">Usando QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open_bil_bip_bsq_files.html">Abrir archivos BIL, BIP o BSQ en QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins_pyqgis.html">Realización de uniones de tabla (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_mapping_with_qgis2web.html">Mapeo web con QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_plugins.html">Uso de complementos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Conjuntos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="animating_time_series.html" title="Previous Chapter: Animar Datos de Series de Tiempo (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Animar Datos ...</span>
    </a>
  </li>
  <li>
    <a href="performing_spatial_queries.html" title="Next Chapter: Realizar Consultas Espaciales (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Realizar Cons... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I have several full-length QGIS courses that are now completely free for self-study. 
Check out the <a href="https://courses.spatialthoughts.com/" target="_blank">Course Materials</a>.</p>

<hr>
<!-- EmailOctopus Form -->

<link rel="stylesheet"
      href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css"
>
<div class="emailoctopus-form-wrapper emailoctopus-form-default null"
     style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(26, 26, 26);"
>
  <h2 class="emailoctopus-heading">
    Subscribe to my list
  </h2>
  <p class="emailoctopus-success-message">
  </p>
  <p class="emailoctopus-error-message">
  </p>
  <form action="https://emailoctopus.com/lists/7325d131-1dbb-11eb-a3d0-06b4694bee2a/members/embedded/1.3s/add"
        method="post"
        data-message-success="Thanks for subscribing!"
        data-message-missing-email-address="Your email address is required."
        data-message-invalid-email-address="Your email address looks incorrect, please try again."
        data-message-bot-submission-error="This doesn't look like a human submission."
        data-message-consent-required="Please check the checkbox to indicate your consent."
        data-message-invalid-parameters-error="This form has missing or invalid fields."
        data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
        class="emailoctopus-form"
        data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
  >
    <div class="emailoctopus-form-row">
      <label for="field_0">
        Email address
      </label>
      <input id="field_0"
             name="field_0"
             type="email"
             placeholder
             required="required"
      >
    </div>
    <div aria-hidden="true"
         class="emailoctopus-form-row-hp"
    >
      <input type="text"
             name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
             tabindex="-1"
             autocomplete="nope"
      >
    </div>
    <div class="emailoctopus-form-row-subscribe">
      <input type="hidden"
             name="successRedirectUrl"
      >
      <button type="submit"
              style="background-color: rgb(224, 224, 224); color: rgb(0, 0, 0); font-family: inherit;"
      >
        Subscribe
      </button>
    </div>
  </form>
</div>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js">
</script>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js">
</script>

<hr>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="handling-invalid-geometries-qgis3">
<h1>Manejar Geometrías No Válidas (QGIS3)<a class="headerlink" href="#handling-invalid-geometries-qgis3" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Cuando se trabaja con capas de datos vectoriales, puede encontrarse con errores de geometría. Estos errores a menudo se vuelven parte de tus datos después de ejecutar geoprocesamiento, digitalización, edición o conversión de datos. QGIS3 viene con herramientas incorporadas y algoritmos para detectar y corregir geometrías no válidas. Este tutorial le mostrará un flujo de trabajo típico para manejar geometrías no válidas en sus datos.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Diferentes sistemas de software implementan diferentes nociones de validez de geometría. Pero el estándar que lidera el modelo de geometría para uso en un SIG son las <a class="reference external" href="https://www.opengeospatial.org/standards/sfs">Especificaciones Simples de Entidades (SFS)</a> de OGC. En este tutorial, usaremos bibliotecas GEOS para revisar la validez de geometría que usa este estándar. <a class="reference external" href="https://knowledge.safe.com/articles/21674/invalid-ogc-geometry-examples.html">Esta publicación</a> da una vista general de los errores comunes de geometría según lo define el estándar OGC.</p>
</div>
<div class="section" id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Trabajaremos con una capa de límite administrativo para la India y corregiremos un error de geometría para un polígono de estado.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p class="first">Usar el algoritmo de <em>Coloración Topológica</em> para aplicar un esquema de coloración a una capa polígono.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Enlazar permanentemente con este título">¶</a></h2>
<p><a class="reference external" href="http://projects.datameet.org/maps/">Datameet</a> provides community-created administrative boundary shapefiles for India.</p>
<p>Download the <a class="reference external" href="https://codeload.github.com/datameet/maps/zip/0fa9fd850eda3d2062e66f2caabc65872639c85a">Datameet Spatial Data Repository [~150 MB]</a> zipfile. The downloaded archive contains multiple folders. Extract the archive and use the files in the <code class="docutils literal"><span class="pre">States/</span></code> folder.</p>
<p>Fuente de Datos: <a class="reference internal" href="../credits.html#datameet" id="id1">[DATAMEET]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Navegue al archivo descargado <code class="docutils literal"><span class="pre">India-States.zip</span></code> en el Explorador QGIS. Expándalo y arrastre el archivo <code class="docutils literal"><span class="pre">India-States.shp</span></code> a la pantalla del mapa.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/160.png" class="align-center" src="../../_images/160.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p class="first">Verá cargada una nueva capa <code class="docutils literal"><span class="pre">India-States</span></code> en el panel <span class="guilabel">Capas</span>. Vaya a <span class="menuselection">Procesos ‣ Caja de Herramientas</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/235.png" class="align-center" src="../../_images/235.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p class="first">Intentaremos ejecutar un algoritmo de procesamiento sobre la capa de entrada para demostrar cómo las geometrías no válidas pueden causar problema durante las operaciones de geoprocesamiento. Busque y localice el algoritmo <span class="menuselection">Cartografía ‣ Coloración topológica</span>. Doble-clic para iniciarlo.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/325.png" class="align-center" src="../../_images/325.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p class="first">En el diálogo <span class="guilabel">Coloración topológica</span>, seleccione <code class="docutils literal"><span class="pre">India-States</span></code> como la <span class="guilabel">Capa de entrada</span>. Mantenga todos los parámetros predeterminados y clic en <span class="guilabel">Ejecutar</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/412.png" class="align-center" src="../../_images/412.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El algoritmo <em>Coloración topológica</em> implementa un algoritmo para colorear un mapa de manera que ninguno de los polígonos adyacentes tengan el mismo color. Ésta es una técnica de cartografía útil y el <a class="reference external" href="https://en.wikipedia.org/wiki/Five_color_theorem">El teorema de cuatro colores &lt;https://en.wikipedia.org/wiki/Four_color_theorem&gt; afirma que 4 colores son suficientes para alcanzar este resultado. Hay una versión de teoría de grafo de este teorema llamado `Teorema de los cinco colores</a>.  La implementación QGIS del algoritmo está basada en grafos de manera que en la práctica verá que las capas complejas de polígono como ésta requerirá hasta 5 colores.</p>
</div>
<ol class="arabic simple" start="5">
<li><p class="first">A medida que el algoritmo se ejecuta, verá una advertencia mostrada en la pestaña <span class="guilabel">Registro</span>. 1 entidad en la capa de entrada tiene una geometría no válida y fue saltada durante el procesamiento. La configuración predeterminada para manejar geometría no válida en le Caja de Herramientas de Procesos está ubicada en <span class="menuselection">Configuración ‣ Opciones ‣ Procesos ‣ General ‣ Filtrado de entidades no válidas</span> y está definido como <code class="docutils literal"><span class="pre">Saltar</span> <span class="pre">(ignorar)</span> <span class="pre">entidades</span> <span class="pre">con</span> <span class="pre">geometrías</span> <span class="pre">no</span> <span class="pre">válidas</span></code>. Este es una buena definición predeterminada, pero si su entrada es grande, puede perder esta advertencia y podría no saber que una entidad de entrada fue saltada. Le podría interesar cambiar el valor a <code class="docutils literal"><span class="pre">Parar</span> <span class="pre">la</span> <span class="pre">ejecución</span> <span class="pre">del</span> <span class="pre">algoritmo</span> <span class="pre">cuando</span> <span class="pre">una</span> <span class="pre">geometría</span> <span class="pre">no</span> <span class="pre">sea</span> <span class="pre">válida</span></code>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/513.png" class="align-center" src="../../_images/513.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p class="first">De vuelta en la ventana principal QGIS, verá una nueva capa <code class="docutils literal"><span class="pre">Colored</span></code> agregada al panel <span class="guilabel">Layers</span>. Note que a la nueva capa le falta un estado que tenía geoemtría no válida. Ahora sabemos que este polígono particular de estado tenía geometría no válida pero no sabemos cual era la causa. Podemos fácilmente averiguarlo. Busque y localice el algoritmo <span class="menuselection">Geometría vector ‣ Revisar validez</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/613.png" class="align-center" src="../../_images/613.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li>In the <span class="guilabel">Check Validity</span> dialog, select <code class="docutils literal"><span class="pre">India-States</span></code> as the <span class="guilabel">Input layer</span>. Select <code class="docutils literal"><span class="pre">GEOS</span></code> as the <span class="guilabel">Method</span>. Click <span class="guilabel">Run</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/712.png" class="align-center" src="../../_images/712.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li>As the algorithm finishes processing, you will see 3 new layers in the <span class="guilabel">Layers</span> panel - <code class="docutils literal"><span class="pre">Valid</span> <span class="pre">output</span></code>, <code class="docutils literal"><span class="pre">Invalid</span> <span class="pre">output</span></code> and <code class="docutils literal"><span class="pre">Error</span> <span class="pre">output</span></code>. The layer <code class="docutils literal"><span class="pre">Error</span> <span class="pre">output</span></code> contains the locations and description of the geometry errors. Right-click it and select <span class="guilabel">Open Attribute Table</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/812.png" class="align-center" src="../../_images/812.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li>You will see that the error message is <em>Ring self-intersection</em>. Select the row and click <span class="guilabel">Zoom map to selected features</span> button. As you zoom in, you will see the root cause of the geometry error.</li>
</ol>
<blockquote>
<div><img alt="../../_images/912.png" class="align-center" src="../../_images/912.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li>QGIS comes with a built-in algorithm to fix geometry errors automatically. Search for and locate the <span class="menuselection">Vector geometry ‣ Fix geometries</span> algorithm. Double-click to run it.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1012.png" class="align-center" src="../../_images/1012.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li>In the <span class="guilabel">Fix Geometries</span> dialog, select <code class="docutils literal"><span class="pre">India-States</span></code> as the <span class="guilabel">Input layer</span> and click <span class="guilabel">Run</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1115.png" class="align-center" src="../../_images/1115.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li>A new layer <code class="docutils literal"><span class="pre">Fixed</span> <span class="pre">Geometries</span></code> will be added to the <span class="guilabel">Layers</span> panel. At this point, the geometry error is fixed and you can run any processing algorithm on this layer without problems. But we can see that there is still a gap between the adjacent polygons that is unexpected and can cause topological errors down the line. We can fix this too by editing the polygon. Click the <span class="guilabel">Toggle Editing</span> button in the <span class="guilabel">Digitizing Toolbar</span>. Select the <span class="guilabel">Vertex Tool</span> and from the drop-down select <code class="docutils literal"><span class="pre">Vertex</span> <span class="pre">Tool</span> <span class="pre">(Current</span> <span class="pre">Layer)</span></code>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1213.png" class="align-center" src="../../_images/1213.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li>When the vertex tool is active, click on a vertex to select it. You can press <code class="kbd docutils literal"><span class="pre">Delete</span></code> key to delete a vertex or drag it to move it. You can move the vertex so that the polygon edge now touches the adjacent polygon.</li>
</ol>
<blockquote>
<div><img alt="../../_images/13.gif" class="align-center" src="../../_images/13.gif" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li>Once done, click the <span class="guilabel">Toggle Editing</span> button again and click <span class="guilabel">Save</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1411.png" class="align-center" src="../../_images/1411.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li>Let&#8217;s run the <span class="menuselection">Cartography ‣ Topological coloring</span> algorithm again.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1510.png" class="align-center" src="../../_images/1510.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li>In the <span class="guilabel">Topological Coloring</span> dialog, make sure you select <code class="docutils literal"><span class="pre">Fixed</span> <span class="pre">Geometries</span></code> as the <span class="guilabel">Input layer</span>. Click <span class="guilabel">Run</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/169.png" class="align-center" src="../../_images/169.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li>You will see the algorithm run without any errors and a new layer <code class="docutils literal"><span class="pre">Colored</span></code> will be added to the <span class="guilabel">Layers</span> panel. Note that the algorithm doesn&#8217;t color the layer by itself, but works by adding a new column called <code class="docutils literal"><span class="pre">color_id</span></code> to each polygon that can be used to assign a unique color that is different than adjacent polygons. Select the <code class="docutils literal"><span class="pre">Colored</span></code> layer and click the <span class="guilabel">Open the Layer Styling Panel</span> button.</li>
</ol>
<blockquote>
<div><img alt="../../_images/1710.png" class="align-center" src="../../_images/1710.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li>Select <code class="docutils literal"><span class="pre">Categorized</span></code> renderer and the column <code class="docutils literal"><span class="pre">color_id</span></code> as the <span class="guilabel">Value</span>. Click <span class="guilabel">Classify</span>. You will now see the map colored so that adjacent polygons have different colors.</li>
</ol>
<blockquote>
<div><img alt="../../_images/189.png" class="align-center" src="../../_images/189.png" />
</div></blockquote>
</div>
</div>





  <div>If you liked tutorials on this site and do check out 
  <a href="http://spatialthoughts.com" target="_blank">spatialthoughts.com</a> for more free resources.
  </div>
  
  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Actualizado por última vez en Nov 03, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/handling_invalid_geometries.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>