<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Realizzare mappe web leaflet con qgis2leaf &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduzione</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Creazione di una stampa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Lavorare con gli Attributi (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importare fogli elettronici o file CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Tematizzare i dati vettoriali (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calcolare la Lunghezza Lineare e le Statistiche (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Tematizzazione ed analisi di RASTER (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Mosaici e operazioni di ritaglio con i layer raster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Lavorare con i dati del terrreno</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Lavorare con i dati WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Lavorare con le Proiezioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenziazione carte topografiche e mappe scannerizzate (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferencing Aerial Imagery (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Vettorializzare mappe raster</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Realizzare unioni tabellari (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Realizzare unioni spaziali (Spatial Joins)  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Realizzare Heatmaps (mappe di concentrazione)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Utilizzare le interrogazioni spaziali (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Campionare i dati di un raster usando punti o poligoni (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolazione di dati puntuali</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Usare il browser di QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Aprire file in formato BIL, BIP o BSQ in QGIS.</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Realizzare unioni tabellari (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usare i Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Cercare e scaricare i dati di OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Risorse disponibili per l&#8217;apprendimento di QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Fonti dei dati</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I have several full-length QGIS courses that are now completely free for self-study. 
Check out the <a href="https://courses.spatialthoughts.com/" target="_blank">Course Materials</a>.</p>

<hr>
<!-- EmailOctopus Form -->

<link rel="stylesheet"
      href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css"
>
<div class="emailoctopus-form-wrapper emailoctopus-form-default emailoctopus-form-wrapper-small"
     style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(26, 26, 26);"
>
  <h2 class="emailoctopus-heading">
    Subscribe to my list
  </h2>
  <p class="emailoctopus-success-message">
  </p>
  <p class="emailoctopus-error-message">
  </p>
  <form action="https://emailoctopus.com/lists/7325d131-1dbb-11eb-a3d0-06b4694bee2a/members/embedded/1.3s/add"
        method="post"
        data-message-success="Thanks for subscribing!"
        data-message-missing-email-address="Your email address is required."
        data-message-invalid-email-address="Your email address looks incorrect, please try again."
        data-message-bot-submission-error="This doesn't look like a human submission."
        data-message-consent-required="Please check the checkbox to indicate your consent."
        data-message-invalid-parameters-error="This form has missing or invalid fields."
        data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
        class="emailoctopus-form"
        data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
  >
    <div class="emailoctopus-form-row">
      <label for="field_0">
        Email address
      </label>
      <input id="field_0"
             name="field_0"
             type="email"
             placeholder
             required="required"
      >
    </div>
    <div aria-hidden="true"
         class="emailoctopus-form-row-hp"
    >
      <input type="text"
             name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
             tabindex="-1"
             autocomplete="nope"
      >
    </div>
    <div class="emailoctopus-form-row-subscribe">
      <input type="hidden"
             name="successRedirectUrl"
      >
      <button type="submit"
              style="background-color: rgb(224, 224, 224); color: rgb(0, 0, 0); font-family: inherit;"
      >
        Subscribe
      </button>
    </div>
  </form>
  <div class="emailoctopus-rewards">
    Powered by
    <a href="https://emailoctopus.com/?urli=wgZmG&amp;utm_medium=user_referral&amp;utm_source=builder"
       target="_blank"
    >
      EmailOctopus
    </a>
  </div>
</div>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js">
</script>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js">
</script>

<hr>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="leaflet-web-maps-with-qgis2leaf">
<h1>Realizzare mappe web leaflet con qgis2leaf<a class="headerlink" href="#leaflet-web-maps-with-qgis2leaf" title="Link a questa intestazione">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Avvertimento</p>
<p>Il plugin qgis2leaf non è più in sviluppo attivo. La funzionalità di questo plugin è trasferita su un nuovo plugin chiamato <strong>qgis2web</strong>.</p>
<p class="last">Vedete il tutorial <a class="reference internal" href="web_mapping_with_qgis2web.html"><em>Web Mapping with QGIS2Web</em></a> per una versione aggiornata di questo tutorial.</p>
</div>
<p>Leaflet è una celebre libreria di Javascript  open-source idati per realizzare applicazioni di mapping su web. Il plugin <strong>qgis2leaf</strong> ci offre un semplice strumento per esportare la vostra mappa QGIS e trasformarla in una mappa web basata su Leaflet. Questo plugin è uno strumento efficace sia per iniziare a lavorare con il web mapping sia per creare una mappa web interattiva a partire da Layer GIS di tipo statico.</p>
<div class="section" id="overview-of-the-task">
<h2>Descrizione dell&#8217;esercizio<a class="headerlink" href="#overview-of-the-task" title="Link a questa intestazione">¶</a></h2>
<p>Creeremo una web map leaflet degli areoporti presenti sul pianeta.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Altri aspetti che avremo modo di apprendere nel corso dell&#8217;esercitazione.<a class="headerlink" href="#other-skills-you-will-learn" title="Link a questa intestazione">¶</a></h3>
<ul class="simple">
<li><p class="first">Usare il comando <code class="docutils literal"><span class="pre">CASE</span></code>  SQL nel Calcolatore Campi per creare un nuovo campo di attributi basato su condizioni differenti.</p>
</li>
<li><p class="first">Trovare e usare le icone SVG in QGIS.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Ottenere i dati necessari<a class="headerlink" href="#get-the-data" title="Link a questa intestazione">¶</a></h2>
<p>Useremo il dataset   <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/airports/">Airports</a> da Natural Earth.</p>
<p>Scaricate lo shapefile <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_airports.zip">Airports</a>.</p>
<p>Fonte Dati  <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedimento<a class="headerlink" href="#procedure" title="Link a questa intestazione">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Installiamo il plugin <code class="docutils literal"><span class="pre">qgis2leaf</span></code> andando su <span class="menuselection">Plugins ‣ Istalla e gestisci Plugin</span>.  Tenete conto del fatto che questo plugin è attualmente classificato come <strong>sperimentale</strong>,  quindi la casella che corrisponde alla voce <span class="guilabel">Mostra anche plugin sperimentali</span>  dovrà essere spuntata. (Vedi <a class="reference internal" href="using_plugins.html"><em>Usare i Plugins</em></a>  per maggiori dettagli sull&#8217;installazione dei plugin in QGIS).</p>
</li>
</ol>
<img alt="../_images/1165.png" class="align-center" src="../_images/1165.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Estraete il file appena scaricato <code class="docutils literal"><span class="pre">ne_10m_airports.zip</span></code>. Aprite QGIS e andate su <span class="menuselection">Layer ‣ Aggiungi Vettore...</span> Individuate la cartella in cui i file sono stati decompressi e selezionate <code class="docutils literal"><span class="pre">ne_10m_airports.shp</span></code>. Fate click su <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/2125.png" class="align-center" src="../_images/2125.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Una volta che il file <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> è stato caricato, utilizziamo lo strumento <span class="guilabel">Informazioni elemento</span> per fare qualche click sugli elementi puntuali e dare un primo sguardo agli attributi. Creeremo una mappa in cui suddivideremo gli aeroporti in tre categorie principali. L&#8217;attributo <code class="docutils literal"><span class="pre">type</span></code> ci sarà prezioso proprio quando andremo a suddividere gli aeroporti in diverse categorie.</p>
</li>
</ol>
<img alt="../_images/367.png" class="align-center" src="../_images/367.png" />
<ol class="arabic simple" start="4">
<li><p class="first">Tasto destro sul layer <code class="docutils literal"><span class="pre">ne_10m_airports</span></code>  e selezionate <span class="guilabel">Opri Tabella Attributi</span>.</p>
</li>
</ol>
<img alt="../_images/447.png" class="align-center" src="../_images/447.png" />
<ol class="arabic simple" start="5">
<li><p class="first">Nella finestra della tabella degli attributi fate click sul pulsante  <span class="guilabel">Modalità di Modifica</span>  e quindi sul pulsante <span class="guilabel">Apri il calcolatore dei campi</span> .</p>
</li>
</ol>
<img alt="../_images/547.png" class="align-center" src="../_images/547.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Ciò che intendiamo fare, adesso, è creare un nuovo attributo che chiameremo <code class="docutils literal"><span class="pre">type_code</span></code>. In tale attributo assegneremo valore 3 agli aeroporti più grandi, 2 a quelli di medie dimensioni e 1 a tutti gli altri. Utilizzeremo la clausola di selezione  <em>CASE</em> e scriveremo un&#8217;espressione che esaminerà i valori dell&#8217;attributo <code class="docutils literal"><span class="pre">type</span></code> e creerà un nuovo attributo <code class="docutils literal"><span class="pre">type_code</span></code> basato sulla condizione inserita nell&#8217;espressione. Spuntate la casella  <span class="guilabel">Crea un nuovo campo</span> e inserite  <a href="#id1"><span class="problematic" id="id2">``</span></a>type_code` come <span class="guilabel">Nome campo in output</span>. Selezionate <span class="guilabel">Numero Intero (integer)</span> alla corrispondente voce <span class="guilabel">Tipo campo in output</span>. Dentro la finestra chiamata <span class="guilabel">Espressione</span> inserite il codice seguente</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>CASE  WHEN &quot;type&quot; LIKE &#39;%major%&#39;  THEN 3
 WHEN &quot;type&quot; LIKE &#39;%mid%&#39; THEN 2
 ELSE 1
END
</pre></div>
</div>
<img alt="../_images/645.png" class="align-center" src="../_images/645.png" />
<ol class="arabic simple" start="7">
<li><p class="first">Torniamo nella finestra della :guilabel:` Tabella Attributi` e vedrete la nuova colonna che si è aggiunta in fondo alla tabella.  Verificate che la nostra espressione abbia lavorato in modo corretto e quindi fate premete il pulsante  <span class="guilabel">Modalità Modifica</span> per salvare i cambiamenti appena realizzati.</p>
</li>
</ol>
<img alt="../_images/744.png" class="align-center" src="../_images/744.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Adesso possiamo finalmente tematizzare in modo significativo il layer degli areoporti usando il nuovo attributo chiamato  <code class="docutils literal"><span class="pre">type_code</span></code> . Fare click con il tasto destro sul layer <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> e selezionate <span class="guilabel">Proprietà</span>.</p>
</li>
</ol>
<img alt="../_images/843.png" class="align-center" src="../_images/843.png" />
<ol class="arabic simple" start="9">
<li><p class="first">Selezionate nel layer la scheda <span class="guilabel">Stile</span>  nella finestra di dialogo <span class="guilabel">Proprietà</span> . Selezionate lo stile <span class="guilabel">Categorizzato</span> dal menu a discesa e scegliete <code class="docutils literal"><span class="pre">type_code</span></code> come <span class="guilabel">Colonna</span>. Scegliete una scala di colore a vostra scelta e fate click su <span class="guilabel">Classifica</span>. Ora fate click su <span class="guilabel">OK</span>  per tornare alla finestra principale di QGIS.</p>
</li>
</ol>
<img alt="../_images/943.png" class="align-center" src="../_images/943.png" />
<ol class="arabic simple" start="10">
<li><p class="first">A questo punto, vedrete una mappa degli aeroporti ben tematizzata. Ora esportiamo questa mappa in una finestra interattiva che potrebbe essere presente su web. Andiamo su <span class="menuselection">Web ‣ qgis2leaf ‣ Exports a QGIS Project to a working leaflet webmap</span>.</p>
</li>
</ol>
<img alt="../_images/1041.png" class="align-center" src="../_images/1041.png" />
<ol class="arabic simple" start="11">
<li><p class="first">Nella finestra di dialogo di <span class="guilabel">QGIS 2 Leaflet</span>  fate click su <span class="guilabel">Get Layers</span>  per avere la lista dei layer. Selezionate l&#8217;opzione Full screen per avere una mappa web a schermo intero. Scegliete layer extent come Extent della mappa da esportare. Scegliete sul vostro sistema una cartella per la cartella di output su cui il plugin andrà a scrivere i file di output. Click su <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/1166.png" class="align-center" src="../_images/1166.png" />
<ol class="arabic simple" start="12">
<li><p class="first">Terminato il processo di esportazione, andate sulla cartella in cui avete indirizzato il processo di output. Aprite il file <code class="docutils literal"><span class="pre">index.html</span></code> in un browser. Vedrete una mappa web interattiva che è una replica della mappa di QGIS. Potete effettuare operazioni di zoom e di pan intorno alla mappa e, facendo click sugli elementi, otterrete una finestra di popup con una serie di informazioni riguardanti l&#8217;aeroporto su cui avete fatti click. Per avere una vera web map sarà sufficiente copiare il contenuto di questa cartella su un web server.</p>
</li>
</ol>
<img alt="../_images/1242.png" class="align-center" src="../_images/1242.png" />
<ol class="arabic simple" start="13">
<li><p class="first">Ora esamineremo alcune funzioni avanzate di questo plugin che vi permetteranno di personalizzare la mappa. Per esempio, alcuni attributi non sono molto utili e le finestre di popup nell&#8217;insieme sono piuttosto brutte. Possiamo modificare il popup di default con del nostro codice HTML per renderlo molto più attraente. Questo risultato si ottiene aggiungendo il nostro codice HTML in una colonna chiamata <code class="docutils literal"><span class="pre">html_exp</span></code>. . Fate click con il tasto destro sul layer <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> e selezionate <span class="guilabel">Apri Tabella Attributi</span>.</p>
</li>
</ol>
<img alt="../_images/1341.png" class="align-center" src="../_images/1341.png" />
<ol class="arabic simple" start="14">
<li><p class="first">Nella finestra della tabella degli attributi fate click sul pulsante  <span class="guilabel">Modalità di Modifica</span>  e quindi sul pulsante <span class="guilabel">Apri il calcolatore dei campi</span> .</p>
</li>
</ol>
<img alt="../_images/1439.png" class="align-center" src="../_images/1439.png" />
<ol class="arabic simple" start="15">
<li><p class="first">Spuntate la casella <span class="guilabel">Crea un nuovo campo</span> e digitate <code class="docutils literal"><span class="pre">html_exp</span></code> come <span class="guilabel">Nome campo in output</span>. Scegliete <span class="guilabel">Testo (stringa)</span>  alla voce  <span class="guilabel">Tipo campo in output</span>. Dal momento che creeremo una stringa HTML piuttosto lunga, scegliete  <code class="docutils literal"><span class="pre">200</span></code> come  <span class="guilabel">larghezza campo in output</span>. Inserite l&#8217;espressione di seguito nello spazio <span class="guilabel">Espressione</span>. L&#8217;espressione è complessa solo in apparenza, in realtà definisce una tabella HTMLe sostituisce le intestazioni delle celle <code class="docutils literal"><span class="pre">iata_code</span></code>, <code class="docutils literal"><span class="pre">name</span></code> e <code class="docutils literal"><span class="pre">type</span></code>. Controllate l&#8217;<span class="guilabel">anteprima</span>  in basso per assicurarvi che l&#8217;espressione abbia svolto il suo compito come  previsto.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;&lt;h3&gt;&#39;, &quot;iata_code&quot;, &#39;&lt;/h3&gt;&lt;table&gt;&#39;, &#39;&lt;tr&gt;&lt;td&gt;Airport Name: &lt;b&gt; &#39;,
&quot;name&quot;, &#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Category: &lt;b&gt; &#39;, &quot;type&quot;,
&#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Il formato shapefile può contenere un massimo di 254 caratteri in un campo. Se volete immagazzinare quantitativi di dati maggiori dovete scegliere un diverso formato.</p>
</div>
<img alt="../_images/1538.png" class="align-center" src="../_images/1538.png" />
<ol class="arabic simple" start="16">
<li><p class="first">Torniamo nella finestra della :guilabel:` Tabella Attributi` e vedrete la nuova colonna che si è aggiunta in fondo alla tabella.  Verificate che la nostra espressione abbia lavorato in modo corretto e quindi fate premete il pulsante  <span class="guilabel">Modalità Modifica</span> per salvare i cambiamenti appena realizzati.</p>
</li>
</ol>
<img alt="../_images/1634.png" class="align-center" src="../_images/1634.png" />
<ol class="arabic simple" start="17">
<li><p class="first">Adesso esportiamo la mappa di nuovo, usando <span class="menuselection">Web ‣ qgis2leaf ‣ Exports a QGIS Project to a working leaflet webmap</span>.</p>
</li>
</ol>
<img alt="../_images/1731.png" class="align-center" src="../_images/1731.png" />
<ol class="arabic simple" start="18">
<li><p class="first">Impostate le opzioni esattamente come avete fatto sopra.</p>
</li>
</ol>
<img alt="../_images/1831.png" class="align-center" src="../_images/1831.png" />
<ol class="arabic simple" start="19">
<li><p class="first">Quando il processo sarà concluso, andate nella cartella in cui avete indirizzato l&#8217;output. Troverete una sottocartella che ha come nome la data e l&#8217;ora in cui è stato lanciato il processo. Trovate al suo interno il file <code class="docutils literal"><span class="pre">index.html</span></code> e apritelo in un browser. Fate click su qualsiasi geometria e date un&#8217;occhiata alla nuova finestra di popup.</p>
</li>
</ol>
<img alt="../_images/1925.png" class="align-center" src="../_images/1925.png" />
<ol class="arabic simple" start="20">
<li><p class="first">Un&#8217;altra caratteristica molto utile del plugin <code class="docutils literal"><span class="pre">qgis2leaf</span></code>  è la sua abilità nello specificare un&#8217;icona personalizzata da usare con la web map. Questo si ottiene specificando il path dell&#8217;icona in un campo chiamato <code class="docutils literal"><span class="pre">icon_exp</span></code>.. Creeremo un nuovo layer contenente solo gli areoporti classificati come principali e lo tematizzeremo usando un&#8217;icona SVG .scelta da noi. Individuate il pulsante <span class="guilabel">Select features using an expression</span> dalla barra degli strumenti.</p>
</li>
</ol>
<img alt="../_images/2018.png" class="align-center" src="../_images/2018.png" />
<ol class="arabic simple" start="21">
<li><p class="first">Inserite l&#8217;espressione qui sotto e premete <span class="guilabel">Seleziona</span>  per selezionare tutti gli aereporti più grandi.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;type_code&quot; = 3
</pre></div>
</div>
<img alt="../_images/2126.png" class="align-center" src="../_images/2126.png" />
<ol class="arabic simple" start="22">
<li><p class="first">Click con il tasto destro sul layer del file <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> e selezionate <span class="guilabel">Salva Selezione con Nome...</span>.</p>
</li>
</ol>
<img alt="../_images/2220.png" class="align-center" src="../_images/2220.png" />
<ol class="arabic simple" start="23">
<li><p class="first">Nella finestra di dialogo  <span class="guilabel">Salva vettore con nome...</span>  chiamiamo il file di output con il nome di <code class="docutils literal"><span class="pre">major_airports.shp</span></code>.  Spuntate la casella <span class="guilabel">Aggiungi il file salvato sulla mappa</span> e fate click su <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/2317.png" class="align-center" src="../_images/2317.png" />
<ol class="arabic simple" start="24">
<li><p class="first">Una volta che il layer  <code class="docutils literal"><span class="pre">major_airports</span></code>  è stato caricato in QGIS, fate click con il tasto destro e selezionate <span class="guilabel">Apri Tabella degli Attributi</span>.</p>
</li>
</ol>
<img alt="../_images/2416.png" class="align-center" src="../_images/2416.png" />
<ol class="arabic simple" start="25">
<li><p class="first">Nella finestra della tabella degli attributi fate click sul pulsante  <span class="guilabel">Modalità di Modifica</span>  e quindi sul pulsante <span class="guilabel">Apri il calcolatore dei campi</span> .</p>
</li>
</ol>
<img alt="../_images/2515.png" class="align-center" src="../_images/2515.png" />
<ol class="arabic simple" start="26">
<li><p class="first">Nella finestra del calcolatore campi, inserite  <code class="docutils literal"><span class="pre">icon_exp</span></code>  come <span class="guilabel">Output field name</span>. e definitelo come <span class="guilabel">Testo (stringa)</span>. Nell&#8217;area <span class="guilabel">Expression</span> inserite la seguente espressione</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&#39;airport.svg&#39;
</pre></div>
</div>
<img alt="../_images/2613.png" class="align-center" src="../_images/2613.png" />
<ol class="arabic simple" start="27">
<li>Save your edits by clicking the <span class="guilabel">Toggle Editing</span> button in the
<span class="guilabel">Attribute Table</span>.</li>
</ol>
<img alt="../_images/2713.png" class="align-center" src="../_images/2713.png" />
<ol class="arabic simple" start="28">
<li><p class="first">Aprite il  <code class="docutils literal"><span class="pre">qgis2leaf</span></code>  plugin da <span class="menuselection">Web ‣ qgis2leaf ‣ Exports a QGIS Project to a working leaflet webmap</span>.
Fate click su <span class="guilabel">Get Layers</span>  per portare entrambi i layer da QGIS. Ci sono molti e diversi layer a disposizione, pre-costruiti che si usano agevolmente per le mappe di base. In questa mappa però stiamo facendo qualcosa di diverso e carichiamo lo <span class="guilabel">Stamen Watercolor</span>  come <span class="guilabel">Basemap</span>.. Click su <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/2811.png" class="align-center" src="../_images/2811.png" />
<ol class="arabic simple" start="29">
<li><p class="first">Come ricorderete, abbiamo specificato il nome <code class="docutils literal"><span class="pre">airport.svg</span></code> per l&#8217;icona degli areoporti. E&#8217; necessario trasportare manualmente quell&#8217;icona nella directory in cui abbiamo inviato il nostro output. QGIS fornisce un&#8217;ampia collezione di icone. In ambiente Windows queste icone sono collocate nella cartella <span class="menuselection">C: ‣ OSGEO4W64 ‣ apps ‣ qgis ‣ svg</span>.Ma il percorso può essere diverso a seconda della vostra piattaforma e del tipo di installazione. Individuate la cartella e scegliete l&#8217;icona che preferite. Per la nostra mappa, possiamo usare l&#8217;icona <code class="docutils literal"><span class="pre">amenity=airport.svg</span></code> che si trova sotto la categoria <code class="docutils literal"><span class="pre">transport</span></code>.</p>
</li>
</ol>
<img alt="../_images/2911.png" class="align-center" src="../_images/2911.png" />
<ol class="arabic simple" start="30">
<li><p class="first">Copiate l&#8217;immagine e incollatela nella cartella di output che avete specificato quando avete esportato la mappa. Rinominate l&#8217;immagine con il nome di``airport.svg``.</p>
</li>
</ol>
<img alt="../_images/306.png" class="align-center" src="../_images/306.png" />
<ol class="arabic simple" start="31">
<li><p class="first">Ora aprite il file <code class="docutils literal"><span class="pre">index.html</span></code> che si trova nella cartella. Vedrete una bella mappa di base con le nostre icone ad indicare gli areoporti principali. Noterete anche che il pannello in alto a destra ha la possibilità di visualizzare entrambi i layer.</p>
</li>
</ol>
<img alt="../_images/3113.png" class="align-center" src="../_images/3113.png" />
<p>Hope this tutorial gives you a head start in creating web maps. Below is the
live interactive map created for this tutorial.</p>
<div>
<iframe
src="http://spatialthoughts.github.io/qgis2leaf-maps/airports_with_custom_popup/"
width="100%" height="600px"></iframe>
</div></div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Ultimo aggiornamento Nov 03, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/leaflet_maps_with_qgis2leaf.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>