<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Leaflet Web Maps with qgis2leaf &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Làm việc với dữ liệu địa hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Làm việc với Dữ liệu WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferencing Aerial Imagery (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Số hóa dữ liệu bản đồ</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Nội suy dữ liệu dạng điểm</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Sử dụng QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Mở file BIL, BIP hay BSQ trong QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Chạy và thiết lập chương trình xử lý QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Lập bản đồ trên mạng với QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Tìm kiếm và tải xuống dữ liệu OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Các nguồn học QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I have several full-length QGIS courses that are now completely free for self-study. 
Check out the <a href="https://courses.spatialthoughts.com/" target="_blank">Course Materials</a>.</p>

<hr>
<!-- EmailOctopus Form -->

<link rel="stylesheet"
      href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css"
>
<div class="emailoctopus-form-wrapper emailoctopus-form-default emailoctopus-form-wrapper-small"
     style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(26, 26, 26);"
>
  <h2 class="emailoctopus-heading">
    Subscribe to my list
  </h2>
  <p class="emailoctopus-success-message">
  </p>
  <p class="emailoctopus-error-message">
  </p>
  <form action="https://emailoctopus.com/lists/7325d131-1dbb-11eb-a3d0-06b4694bee2a/members/embedded/1.3s/add"
        method="post"
        data-message-success="Thanks for subscribing!"
        data-message-missing-email-address="Your email address is required."
        data-message-invalid-email-address="Your email address looks incorrect, please try again."
        data-message-bot-submission-error="This doesn't look like a human submission."
        data-message-consent-required="Please check the checkbox to indicate your consent."
        data-message-invalid-parameters-error="This form has missing or invalid fields."
        data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
        class="emailoctopus-form"
        data-sitekey="6LdYsmsUAAAAAPXVTt-ovRsPIJ_IVhvYBBhGvRV6"
  >
    <div class="emailoctopus-form-row">
      <label for="field_0">
        Email address
      </label>
      <input id="field_0"
             name="field_0"
             type="email"
             placeholder
             required="required"
      >
    </div>
    <div aria-hidden="true"
         class="emailoctopus-form-row-hp"
    >
      <input type="text"
             name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
             tabindex="-1"
             autocomplete="nope"
      >
    </div>
    <div class="emailoctopus-form-row-subscribe">
      <input type="hidden"
             name="successRedirectUrl"
      >
      <button type="submit"
              style="background-color: rgb(224, 224, 224); color: rgb(0, 0, 0); font-family: inherit;"
      >
        Subscribe
      </button>
    </div>
  </form>
</div>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-recaptcha.js">
</script>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js">
</script>

<hr>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="leaflet-web-maps-with-qgis2leaf">
<h1>Leaflet Web Maps with qgis2leaf<a class="headerlink" href="#leaflet-web-maps-with-qgis2leaf" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Cảnh báo</p>
<p>qgis2leaf plugin is no longer in active development. The functionality of
this plugin is folded into a new plugin called <strong>qgis2web</strong>.</p>
<p class="last">See <a class="reference internal" href="web_mapping_with_qgis2web.html"><em>Lập bản đồ trên mạng với QGIS2Web</em></a> tutorial for an updated version of
this tutorial.</p>
</div>
<p>Leaflet is a popular open-source Javascript library for building web mapping
applications. <strong>qgis2leaf</strong> plugin provides a simple way to export your QGIS
map to a functioning leaflet-based web map. This plugin is a useful way to get
started with web mapping and create an interactive web map from your static GIS
data layers.</p>
<div class="section" id="overview-of-the-task">
<h2>Tổng quan về nhiệm vụ<a class="headerlink" href="#overview-of-the-task" title="Permalink to this headline">¶</a></h2>
<p>We will create a leaflet web map of world&#8217;s airports.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Các kỹ năng bạn sẽ học được<a class="headerlink" href="#other-skills-you-will-learn" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Using <code class="docutils literal"><span class="pre">CASE</span></code> SQL statement in Field Calculator to create new field values
based on different conditions.</li>
<li>Locating and using SVG custom icons in QGIS.</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Nhận dữ liệu<a class="headerlink" href="#get-the-data" title="Permalink to this headline">¶</a></h2>
<p>We will use the <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/airports/">Airports</a>
dataset from Natural Earth.</p>
<p>Download the <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_airports.zip">Airports shapefile</a>.</p>
<p>Nguồn dữ liệu <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Các bước thực hiện<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Install the <code class="docutils literal"><span class="pre">qgis2leaf</span></code> plugin by going to <span class="menuselection">Plugins ‣
Manage and Install Plugin</span>. Note that the plugin is currently marked
<strong>experimental</strong>, so you will need to check <span class="guilabel">Show also
experimental plugins</span> in Plugin Settings. (See <a class="reference internal" href="using_plugins.html"><em>Using Plugins</em></a> for more details on
installing plugins in QGIS)</li>
</ol>
<img alt="../_images/1165.png" class="align-center" src="../_images/1165.png" />
<ol class="arabic simple" start="2">
<li>Unzip the downloaded <code class="docutils literal"><span class="pre">ne_10m_airports.zip</span></code> file. Open QGIS and go to
<span class="menuselection">Layer ‣ Add Vector Layer</span>. Browse to the location when the
files were extracted and select <code class="docutils literal"><span class="pre">ne_10m_airports.shp</span></code>. Click
<span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/2125.png" class="align-center" src="../_images/2125.png" />
<ol class="arabic simple" start="3">
<li>Once the <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> layer is loaded, use the <span class="guilabel">Identify</span>
tool to click on any feature and look at the attributes. We will create an
airport map where we classify the airports into 3 categories. The attribute
<code class="docutils literal"><span class="pre">type</span></code> will be useful when classifying the features.</li>
</ol>
<img alt="../_images/367.png" class="align-center" src="../_images/367.png" />
<ol class="arabic simple" start="4">
<li>Right-click the <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> layer and select <span class="guilabel">Open
Attribute Table</span>.</li>
</ol>
<img alt="../_images/447.png" class="align-center" src="../_images/447.png" />
<ol class="arabic simple" start="5">
<li>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</li>
</ol>
<img alt="../_images/547.png" class="align-center" src="../_images/547.png" />
<ol class="arabic simple" start="6">
<li>We want to create a new attribute called <code class="docutils literal"><span class="pre">type_code</span></code> where we give major
airports a value of 3, mid-sized airports a value of 2 and all others a
value of 1. We can use the <em>CASE</em> statement and write an expression that
will look at the value of <code class="docutils literal"><span class="pre">type</span></code> attribute and create a <code class="docutils literal"><span class="pre">type_code</span></code>
attribute based on the condition. Check the <span class="guilabel">Create a new field</span>
box and enter <code class="docutils literal"><span class="pre">type_code</span></code> as the <span class="guilabel">Output field name</span>. Select
<span class="guilabel">Whole number (integer)</span> as the <span class="guilabel">Output field type</span>. In
the <span class="guilabel">Expression</span> window, enter the following text.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>CASE  WHEN &quot;type&quot; LIKE &#39;%major%&#39;  THEN 3
 WHEN &quot;type&quot; LIKE &#39;%mid%&#39; THEN 2
 ELSE 1
END
</pre></div>
</div>
<img alt="../_images/645.png" class="align-center" src="../_images/645.png" />
<ol class="arabic simple" start="7">
<li>Back in the <span class="guilabel">Attribute Table</span> window, you will see a new column at
the end. Verify that your expression worked correctly and click the
<span class="guilabel">Toggle Editing</span> button to save the changes.</li>
</ol>
<img alt="../_images/744.png" class="align-center" src="../_images/744.png" />
<ol class="arabic simple" start="8">
<li>Now we will style the airports layer using the newly created <code class="docutils literal"><span class="pre">type_code</span></code>
attribute. Right-click the <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> layer and select
<span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../_images/843.png" class="align-center" src="../_images/843.png" />
<ol class="arabic simple" start="9">
<li>Select the <span class="guilabel">Style</span> tab in the <span class="guilabel">Layer Properties</span> dialog.
Select <span class="guilabel">Categorized</span> style from the drop-down menu and choose
<code class="docutils literal"><span class="pre">type_code</span></code> as the <span class="guilabel">Column</span>. Choose a color ramp of your choice
and click <span class="guilabel">Classify</span>. Click <span class="guilabel">OK</span> to go back to the main
QGIS window.</li>
</ol>
<img alt="../_images/943.png" class="align-center" src="../_images/943.png" />
<ol class="arabic simple" start="10">
<li>Here you will see a nicely styled airport map. Let&#8217;s export this to create
an interactive web map. Go to <span class="menuselection">Web ‣ qgis2leaf ‣ Exports
a QGIS Project to a working leaflet webmap</span>.</li>
</ol>
<img alt="../_images/1041.png" class="align-center" src="../_images/1041.png" />
<ol class="arabic simple" start="11">
<li>In the <span class="guilabel">QGIS 2 Leaflet</span> dialog, click <span class="guilabel">Get Layers</span> to
get the refreshed layer list. Select the <span class="guilabel">Full screen</span> option to
have a full screen web map. Choose <span class="guilabel">layer extent</span> as the
<span class="guilabel">Extent</span> of the exported map. Choose a <span class="guilabel">Output project
folder</span> on your system where the plugin will write the output files. Click
<span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/1166.png" class="align-center" src="../_images/1166.png" />
<ol class="arabic simple" start="12">
<li>Once the export process finishes, locate the output folder on your disk.
Open the <code class="docutils literal"><span class="pre">index.html</span></code> file in a browser. You will see an interactive web
map that is a replica of the QGIS map. You can zoom and pan around the map
and also click on any feature to get an popup window with attribute
information. You can copy the contents of this folder to a web server to
have a full featured web map.</li>
</ol>
<img alt="../_images/1242.png" class="align-center" src="../_images/1242.png" />
<ol class="arabic simple" start="13">
<li>Now we will explore some advanced features of this plugin that will allow
you to customize the map further. If you noticed, the popup contained all
the attributes of the feature. Some attributes are not very useful and
overall the pop up looks ugly. We can replace the default popup with our
own custom HTML to make it much better. This is achieved by added the
custom HTML in a column named <code class="docutils literal"><span class="pre">html_exp</span></code>. Right-click the
<code class="docutils literal"><span class="pre">ne_10m_airports</span></code> layer and select <span class="guilabel">Open Attribute Table</span>.</li>
</ol>
<img alt="../_images/1341.png" class="align-center" src="../_images/1341.png" />
<ol class="arabic simple" start="14">
<li>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</li>
</ol>
<img alt="../_images/1439.png" class="align-center" src="../_images/1439.png" />
<ol class="arabic simple" start="15">
<li>Check the <span class="guilabel">Create a new field</span> box and enter <code class="docutils literal"><span class="pre">html_exp</span></code> as the
<span class="guilabel">Output field name</span>. Choose <span class="guilabel">Text (string)</span> as the
<span class="guilabel">Output field type</span>. Since we will be creating a long HTML
string, choose <code class="docutils literal"><span class="pre">200</span></code> as the <span class="guilabel">Output field width</span>. Enter the
following expression in the <span class="guilabel">Expression</span> area. The
complex-looking expression simply defines a HTML table and substitutes cell
values from attributes <code class="docutils literal"><span class="pre">iata_code</span></code>, <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">type</span></code>. Check the
<span class="guilabel">Output preview</span> to ensure the expression is correct.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;&lt;h3&gt;&#39;, &quot;iata_code&quot;, &#39;&lt;/h3&gt;&lt;table&gt;&#39;, &#39;&lt;tr&gt;&lt;td&gt;Airport Name: &lt;b&gt; &#39;,
&quot;name&quot;, &#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Category: &lt;b&gt; &#39;, &quot;type&quot;,
&#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Ghi chú</p>
<p class="last">The shapefile format can contain a maximum of 254 characters in a field. If
you want to store longer text in the field, choose another format.</p>
</div>
<img alt="../_images/1538.png" class="align-center" src="../_images/1538.png" />
<ol class="arabic simple" start="16">
<li>Back in the <span class="guilabel">Attribute Table</span> window, you will see a new column at
the end. Verify that your expression worked correctly and click the
<span class="guilabel">Toggle Editing</span> button to save the changes.</li>
</ol>
<img alt="../_images/1634.png" class="align-center" src="../_images/1634.png" />
<ol class="arabic simple" start="17">
<li>Now export the map again using <span class="menuselection">Web ‣ qgis2leaf ‣
Exports a QGIS Project to a working leaflet webmap</span>.</li>
</ol>
<img alt="../_images/1731.png" class="align-center" src="../_images/1731.png" />
<ol class="arabic simple" start="18">
<li>Choose the options as before.</li>
</ol>
<img alt="../_images/1831.png" class="align-center" src="../_images/1831.png" />
<ol class="arabic simple" start="19">
<li>Go to the output folder once the export process finishes. You will have a
subfolder with the present timestamp. Locate the <code class="docutils literal"><span class="pre">index.html</span></code> file inside
it and open it in a browser. Click on any feature and look at the popup.
You will notice that it looks a lot cleaner and informative.</li>
</ol>
<img alt="../_images/1925.png" class="align-center" src="../_images/1925.png" />
<ol class="arabic simple" start="20">
<li>Another useful feature of the <code class="docutils literal"><span class="pre">qgis2leaf</span></code> plugin is the ability to
specify a custom icon to use with the web map. This is accomplished by
specifying the path to the custom icon in a field called <code class="docutils literal"><span class="pre">icon_exp</span></code>. We
will create a new layer containing only the major airports and style using
a custom SVG icon.  Locate the <span class="guilabel">Select features using an
expression</span> tool from the toolbar.</li>
</ol>
<img alt="../_images/2018.png" class="align-center" src="../_images/2018.png" />
<ol class="arabic simple" start="21">
<li>Enter the expression below and press <span class="guilabel">Select</span> to select all major
airports.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;type_code&quot; = 3
</pre></div>
</div>
<img alt="../_images/2126.png" class="align-center" src="../_images/2126.png" />
<ol class="arabic simple" start="22">
<li>Right-click the <code class="docutils literal"><span class="pre">ne_10m_airports</span></code> airports and select <span class="guilabel">Save
Selection As...</span>.</li>
</ol>
<img alt="../_images/2220.png" class="align-center" src="../_images/2220.png" />
<ol class="arabic simple" start="23">
<li>In the <span class="guilabel">Save vector layer as...</span> dialog, name the output file as
<code class="docutils literal"><span class="pre">major_airports.shp</span></code>. Check the <span class="guilabel">Add saved file to map</span> and
click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/2317.png" class="align-center" src="../_images/2317.png" />
<ol class="arabic simple" start="24">
<li>Once the <code class="docutils literal"><span class="pre">major_airports</span></code> layer is loaded in QGIS, right-click it and
select <span class="guilabel">Open Attribute Table</span>.</li>
</ol>
<img alt="../_images/2416.png" class="align-center" src="../_images/2416.png" />
<ol class="arabic simple" start="25">
<li>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</li>
</ol>
<img alt="../_images/2515.png" class="align-center" src="../_images/2515.png" />
<ol class="arabic simple" start="26">
<li>In <span class="guilabel">Field Calculator</span> dialog, enter <code class="docutils literal"><span class="pre">icon_exp</span></code> as the
<span class="guilabel">Output field name</span>. Make it a <span class="guilabel">Text (string)</span> type. In
the <span class="guilabel">Expression</span> area, enter the following expression.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&#39;airport.svg&#39;
</pre></div>
</div>
<img alt="../_images/2613.png" class="align-center" src="../_images/2613.png" />
<ol class="arabic simple" start="27">
<li>Save your edits by clicking the <span class="guilabel">Toggle Editing</span> button in the
<span class="guilabel">Attribute Table</span>.</li>
</ol>
<img alt="../_images/2713.png" class="align-center" src="../_images/2713.png" />
<ol class="arabic simple" start="28">
<li>Open the <code class="docutils literal"><span class="pre">qgis2leaf</span></code> plugin from <span class="menuselection">Web ‣ qgis2leaf ‣ Exports
a QGIS Project to a working leaflet webmap</span>. Click <span class="guilabel">Get Layers</span>
button to fetch both the layers from QGIS. There are many different pre-made tile layers
availalbe for basemaps. In this map, we can try something different and load the <span class="guilabel">Stamen Watercolor</span> as the
<span class="guilabel">Basemap</span>. Click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/2811.png" class="align-center" src="../_images/2811.png" />
<ol class="arabic simple" start="29">
<li>If you remember we specified <code class="docutils literal"><span class="pre">airport.svg</span></code> as the icon for the airports.
We need to add that icon manually to the output directory. QGIS comes with
a large collection of icons. On Windows, these icons are located at
<span class="menuselection">C: ‣ OSGEO4W64 ‣ apps ‣ qgis ‣ svg</span>. The path may
differ depending on your platform and install type. Locate that directory
and choose an icon you like. For our map, we can try the
<code class="docutils literal"><span class="pre">amenity=airport.svg</span></code> icon located under <code class="docutils literal"><span class="pre">transport</span></code> category.</li>
</ol>
<img alt="../_images/2911.png" class="align-center" src="../_images/2911.png" />
<ol class="arabic simple" start="30">
<li>Copy and paste this icon in the output directory you had specified when exporting
the map. Rename it as <code class="docutils literal"><span class="pre">airport.svg</span></code>.</li>
</ol>
<img alt="../_images/306.png" class="align-center" src="../_images/306.png" />
<ol class="arabic simple" start="31">
<li>Now open the <code class="docutils literal"><span class="pre">index.html</span></code> file located in the folder. You will see a
beautiful basemap with our custom icons for the major airports. Also notice
the layer panel at top-right corner which has layer display control for
both the layers.</li>
</ol>
<img alt="../_images/3113.png" class="align-center" src="../_images/3113.png" />
<p>Hope this tutorial gives you a head start in creating web maps. Below is the
live interactive map created for this tutorial.</p>
<div>
<iframe
src="http://spatialthoughts.github.io/qgis2leaf-maps/airports_with_custom_popup/"
width="100%" height="600px"></iframe>
</div></div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Bản quyền thuộc 2019, Ujaval Gandhi.<br/>
      Cập nhật mới nhất vào Nov 03, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/leaflet_maps_with_qgis2leaf.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>